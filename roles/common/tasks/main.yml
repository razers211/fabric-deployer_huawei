---
- name: Configure system hostname
  raw: "sysname {{ inventory_hostname }}"

- name: Configure NTP servers
  raw: "ntp-server {{ item }}"
  loop: "{{ ntp_servers }}"
  when: ntp_servers is defined

- name: Configure syslog servers
  raw: "loghost {{ item }}"
  loop: "{{ syslog_servers }}"
  when: syslog_servers is defined

- name: Configure SNMP
  raw: "snmp-agent community read {{ snmp_community }}"
  when: snmp_community is defined

- name: Configure SNMP location
  raw: "snmp-agent sys-info location {{ snmp_location }}"
  when: snmp_location is defined

- name: Configure SNMP contact
  raw: "snmp-agent sys-info contact {{ snmp_contact }}"
  when: snmp_contact is defined

- name: Enable IP routing
  raw: "ip routing"

- name: Configure loopback interfaces
  include_tasks: configure_loopbacks.yml

- name: Save configuration
  raw: "save"
